import { useState } from 'react'
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks'

<Meta title="Hooks/useInjectReducer"/>

# useInjectReducer
We use this hook to add reducers to our store on the fly. By default, Redux does not provide this feature, so we had to add it. The important thing is that you should setup your store in a special way to make it work. Example:
```js
import { setupAsyncReducers } from '@/hooks/useInjectReducer'
const store = setupAsyncReducers(
    configureStore({ reducer: combineReducers(staticReducers), middleware }),
    staticReducers
)
```


## Common usage example:
```js
const key = 'EWhatever'
const reducer = (state, { type, payload: data }, key) => {
    if (type === `${key}/fulfilled`) {
        return {
            ...state,
            data
        }
    }
    return state || {}
}

useInjectReducer(key, reducer)
```

### Options
* `key: string` - entity key. Can be any string but usually we use something like ESomething, EWhatever, etc.
* `reducer: (state, action, key) => state` - classical redux reducer.
